<div class="auth-page">
    <div class="bg"><span>书生LifeBrary</span></div>
    <form name="vm.form" ng-submit="vm.login ? vm.register(user) : vm.loginin(user)" novalidate autocomplete="off">
        <div uib-alert ng-repeat="alert in vm.alerts" class="alert-warning" >{{alert}}</div>
        <div class="avatar" ng-show="vm.login">
            <img ng-src="{{vm.avatar}}" ng-click="vm.changeAvater()" />
            <small>点击头像可进行更换</small>
        </div>
        <div class="form-group" ng-show="vm.login">
            <label for="name">用户名</label>
            <input type="text" class="form-control" id="name" name="name" ng-minlength="2"  minlength="2" maxlength="8" required placeholder="请输入用户名" ng-model="user.name">
        </div>
        <div class="form-group">
            <label for="phone">手机号</label>
            <input type="number" class="form-control" id="phone" name="phone" ng-minlength="11" ng-maxlength="11" required placeholder="请输入手机号" ng-model="user.phone">
        </div>
        <div class="form-group">
            <label for="captcha">验证码</label>
            <div class="input-group">
                <input type="number" class="form-control" id="captcha" name="captcha" required placeholder="请输入验证码" ng-model="user.captcha">
                <div class="input-group-addon">
                    <button class="btn btn-info" ng-disabled="vm.timelimit" ng-click="vm.getCaptcha(user.phone)">获取验证码<span ng-if="vm.timelimit"> ({{vm.timelimit}}) </span></button>
                </div>
            </div>
        </div>
        <div class="form-group auth-form" ng-if="vm.login">
            <input type="submit" class="btn btn-primary auth" value="注册">
            <a class="btn btn-primary auth" ng-click="vm.switchState(user)">已有账号? 登陆</a>
        </div>
        <div class="form-group auth-form" ng-if="!vm.login">
            <input type="submit" class="btn btn-primary auth" value="登陆">
            <a class="btn btn-primary auth" ng-click="vm.switchState(user)">没有账号? 注册</a>
        </div>
    </form>
</div>